<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Link do Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <!-- Link do Css -->
    <link rel="stylesheet" href="/font/style.css" />

    <title>Contato - LongHaul</title>
  </head>
  <body class="form-body">
    <header>
      <nav>
        <a style="z-index: 1000" href="/index.html"
          ><img class="logo" src="/images/HomeImg/LogoBranca.webp" alt=""
        /></a>
        <div class="mobile-menu white-menu">
          <div class="line1"></div>
          <div class="line2"></div>
          <div class="line3"></div>
        </div>
        <ul class="nav-list">
          <li><a href="/index.html">HOME</a></li>
          <li><a href="/pages/ensaios.html">ENSAIOS</a></li>
          <li><a href="/pages/sobre.html">SOBRE</a></li>
          <li><a href="/pages/contato.html">CONTATO</a></li>
        </ul>
      </nav>
    </header>

    <section class="main">
      <div class="container-content">
        <div class="container-form">
          <div class="form-content">
            <form action="">
              <div class="container-text">
                <div id="imagem">
                  <img
                    class="img-responsive"
                    src="/images/ContatoImg/contatopag2.png"
                    alt=""
                  />
                </div>

                <h1>Entre em contato</h1>
                <p>Entre em contato para que eu possa te ajudar!</p>
              </div>

              <div class="row">
                <div class="col">
                  <input
                    type="text"
                    id="nome"
                    class="form-control"
                    placeholder="Nome Completo"
                    aria-label="First name"
                  />
                </div>

                <div class="col">
                  <input
                    type="email"
                    id="email"
                    class="form-control"
                    placeholder="Email"
                    aria-label="Email"
                  />
                </div>

                <div class="col-12 mt-4">
                  <input
                    type="text"
                    id="assunto"
                    class="form-control"
                    placeholder="Asunto"
                  />
                </div>

                <div class="col-12 mt-4">
                  <input
                    type="text"
                    id="message"
                    class="form-control"
                    placeholder="Sua mensagem"
                  />
                </div>

                <div class="container-button">
                  <button
                    onclick="mandaEmail(event)"
                    id="enviar"
                    class="default-button form-button mt-5"
                  >
                    Enviar Mensagem
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="container-image">
        <img class="image-planta" src="/images/ContatoImg/contatopag.png" alt="" />
      </div>
    </section>

    <!-- Adicione o Bootstrap JS (opcional, mas necessário para algumas funcionalidades) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/navBarScript.js"></script>
    <script>
      async function mandaEmail(event) {
        event.preventDefault(); // Impede o envio do formulário

        try {
          const nome = document.getElementById("nome").value;
          const email = document.getElementById("email").value;
          const assunto = document.getElementById("assunto").value;
          const message = document.getElementById("message").value;

          // Criar objeto JSON
          const data = {
            nome: nome,
            email: email,
            assunto: assunto,
            message: message, // Corrigido de "message" para "message"
          };

          const url = "https://victors-page-api.onrender.com/sendMail";

          const response = await fetch(url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json", // Define o tipo de conteúdo no cabeçalho
            },
            body: JSON.stringify(data), // Converte o objeto em JSON e envia como corpo
          });

          if (!response.ok) {
            throw new Error(
              `Erro na solicitação: ${response.status} - ${response.statusText}`
            );
          }

          const result = await response.json(); // Converte a resposta em JSON
          console.log("Resposta da API:", result);
        } catch (error) {
          console.error("Erro:", error);
        }
      }
    </script>
  </body>
</html>
